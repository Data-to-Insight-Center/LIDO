# Cordra (Object Service)

--------

The Cordra Software is used for saving the pre-defined types and providing the descriptions of types for Airbox Data Lake abstract objects (metadata instances)

All types should use the same schema `AirboxDataLake` 

```
{
  "type": "object",
  "title": "AirboxDataLake",
  "properties": {
    "id": {
      "type": "string",
      "cordra": {
        "type": {
          "autoGeneratedField": "handle"
        }
      }
    },
    "name": {
      "type": "string",
      "title": "Name",
      "cordra": {
        "preview": {
          "showInPreview": true,
          "isPrimary": true
        }
      }
    },
    "description": {
      "type": "string",
      "format": "textarea",
      "title": "Description",
      "cordra": {
        "preview": {
          "showInPreview": true,
          "excludeTitle": true
        }
      }
    },
    "sample": {
      "type": "string",
      "format": "textarea",
      "title": "Sample",
      "cordra": {
        "preview": {
          "showInPreview": true,
          "excludeTitle": true
        }
      }
    },
    "creationDate": {
      "type": "string",
      "title": "Creation Date",
      "cordra": {
        "type": {
          "autoGeneratedField": "creationDate"
        }
      }
    },
    "representationsAndSemantics": {
      "type": "array",
      "format": "table",
      "title": "Representations and Semantics",
      "description": "Restrictions on representations and semantics of the dependent type in this context",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "title": "Representation and Semantic Expression",
        "required": [
          "expression",
          "value"
        ],
        "properties": {
          "expression": {
            "title": "Expression",
            "type": "string",
            "cordra": {
              "type": {
                "suggestedVocabulary": [
                  "Format",
                  "Character Set",
                  "Encoding",
                  "Measurement Unit"
                ]
              }
            }
          },
          "value": {
            "title": "Value",
            "description": "Unicode, UTF-8, Meter, etc.",
            "type": "string"
          },
          "details": {
            "title": "Details",
            "type": "string",
            "format": "textarea"
          }
        }
      }
    },
    "properties": {
      "type": "array",
      "title": "Properties",
      "description": "Type dependencies used for expressing how this type is built from other types",
      "items": {
        "type": "object",
        "headerTemplate": "{{self.name}}",
        "title": "Property",
        "required": [
          "identifier",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name assigned to dependent type in this context",
            "title": "Name"
          },
          "identifier": {
            "type": "string",
            "title": "TID of Existing Data Type"
          }
        }
      }
    }
  }
}
```

After creating the schema in **CordraHomepage>Admin>Types**, users could use this schema to create required Types for the Airbox Data Lake abstract objects

## Required Types

* SensorType

  ```
  {
      "id": "test/179f30caf8b6ca2287e3",
      "name": "sensor type",
      "description": "the type information of the sensor",
      "sample": "s_d0/s_d1/s_d2/â€¦.",
      "creationDate": "2019-07-04T20:12:50.586Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "a list of sensor types"
          }
      ]
  }
  ```

* DeviceModel

  ```
  {
      "id": "test/22dde27488f42c5872e5",
      "name": "device model",
      "description": "the model information of the device",
      "sample": "EdiGreen or MAPS",
      "creationDate": "2019-07-04T20:12:18.219Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "a list of device models"
          }
      ]
  }
  ```

* StartDate

  ```
  {
      "id": "test/87269431ee45c3e09809",
      "name": "start date",
      "description": "the start date of the object ",
      "sample": "year-month-day",
      "creationDate": "2019-07-04T20:16:55.325Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* EndDate

  ```
  {
      "id": "test/269c8b374312ec6d7214",
      "name": "end date",
      "description": "the end date of the object",
      "sample": "year-month-day",
      "creationDate": "2019-07-04T20:17:19.514Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* Geolocation

  ```
  {
      "id": "test/76decc27cf121a6852fc",
      "name": "geolocation",
      "description": "the geographical location of the object",
      "sample": "[latitude, longitude]\n\nor \n\nname",
      "creationDate": "2019-07-04T20:18:10.472Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "a list of geolocation"
          }
      ]
  }
  ```

* Status

  ```
  {
      "id": "test/76decc27cf121a6852fc",
      "name": "geolocation",
      "description": "the geographical location of the object",
      "sample": "[latitude, longitude]\n\nor \n\nname",
      "creationDate": "2019-07-04T20:18:10.472Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "a list of geolocation"
          }
      ]
  }
  ```

* SciencePID

  ```
  {
      "id": "test/d508f4ef0f7663e00022",
      "name": "Science metadata instance PID",
      "description": "the PID of the science metadata instance ",
      "sample": "test/id",
      "creationDate": "2019-09-05T20:32:31.752Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "string"
          }
      ]
  }
  ```

* SensorPID

  ```
  {
      "id": "test/8f1b3936f5136f1543ec",
      "name": "Sensor metadata instance PID",
      "description": "the PID of the sensor metadata instance",
      "sample": "test/id",
      "creationDate": "2019-07-17T20:43:04.159Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* DatasetPID

  ```
  {
      "id": "test/dfbed2f08f990e9c7c44",
      "name": "Dataset metadata instance PID",
      "description": "the PID of the schema.org.dataset instance",
      "sample": "test/id",
      "creationDate": "2019-07-17T20:42:27.298Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* Description

  ```
  {
      "id": "test/cb329146a0dd0d566b06",
      "name": "description",
      "description": "A short summary describing a dataset.",
      "sample": "The summary must be between 50 and 5000 characters long.\nThe summary may include Markdown syntax. Embedded images need to use absolute path URLs (instead of relative paths).\nWhen using the JSON-LD format, denote new lines with \\n (two characters: backslash and lower case letter \"n\").",
      "creationDate": "2019-07-04T19:41:52.443Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* Keywords

  ```
  {
      "id": "test/88fc09e54b17679b0028",
      "name": "keywords",
      "description": "Keywords summarizing the dataset.",
      "sample": "keyword 1, keyword 2, .....",
      "creationDate": "2019-07-04T19:44:35.638Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "contains one ore more keywords"
          }
      ]
  }
  ```

* SameAs

  ```
  {
      "id": "test/c35a2e0706b010c31e43",
      "name": "sameAs",
      "description": "A link to a page that provides more information about the same dataset, usually in a different repository.",
      "creationDate": "2019-07-04T19:45:03.169Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String/JSON",
              "details": "contains the link or required information"
          }
      ]
  }
  ```

* SparialCoverage

  ```
  {
      "id": "test/29ba60b264489586ba14",
      "name": "spatialCoverage",
      "description": "You can provide a single point that describes the spatial aspect of the dataset. Only include this property if the dataset has a spatial dimension.",
      "sample": "For example, a single point where all the measurements were collected, or the coordinates of a bounding box for an area.\nPoints:\n\"spatialCoverage:\" {\n  \"@type\": \"Place\",\n  \"geo\": {\n    \"@type\": \"GeoCoordinates\",\n    \"latitude\": 39.3280,\n    \"longitude\": 120.1633\n  }\n}\n\nShapes:\nUse GeoShape to describe areas of different shapes. For example, to specify a bounding box.\n\n\"spatialCoverage:\" {\n  \"@type\": \"Place\",\n  \"geo\": {\n    \"@type\": \"GeoShape\",\n    \"box\": \"39.3280 120.1633 40.445 123.7878\"\n  }\n}\n\nNamed locations:\n\n{\"spatialCoverage:\" \"Tahoe City, CA\"}",
      "creationDate": "2019-07-04T19:46:09.874Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "JSON"
          }
      ]
  }
  ```

* TemporalCoverage

  ```
  {
      "id": "test/d7f6ea38d880bc9d8ac6",
      "name": "temporalCoverage",
      "description": "The data in the dataset covers a specific time interval. Only include this property if the dataset has a temporal dimension. Schema.org uses the ISO 8601 standard to describe time intervals and time points. You can describe dates differently depending upon the dataset interval. Indicate open-ended intervals with two decimal points (..).",
      "sample": "Single date:\n\n\"temporalCoverage\" : \"2008\"\n\nTime period:\n\n\"temporalCoverage\" : \"1950-01-01/2013-12-18\"\n\nOpen-ended time period:\n\n\"temporalCoverage\" : \"2013-12-19/..\"",
      "creationDate": "2019-07-04T19:47:51.247Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* VariableMeasured

  ```
  {
      "id": "test/344aef2afa1df5a10abc",
      "name": "variableMeasured",
      "description": "The variable that this dataset measures.",
      "sample": "For example, temperature or pressure",
      "creationDate": "2019-07-04T19:48:24.659Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* IncludedInDataCatalog

  ```
  {
      "id": "test/4559ed7af3ae6700bc33",
      "name": "includedInDataCatalog",
      "description": "The catalog to which the dataset belongs.",
      "creationDate": "2019-07-04T19:50:29.823Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* DistributionContentURL

  ```
  {
      "id": "test/b8241780e7a240595829",
      "name": "distribution.contentUrl",
      "description": "The link for the download.",
      "creationDate": "2019-07-04T19:52:55.901Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String/JSON"
          }
      ]
  }
  ```

* DistributionFileFormat

  ```
  {
      "id": "test/2ef219155333146ec1fd",
      "name": "distribution.fileFormat",
      "description": "The file format of the distribution.",
      "creationDate": "2019-07-04T19:53:24.642Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* ReadingFormat

  ```
  {
      "id": "test/b79b9af59e1e96530f33",
      "name": "reading format",
      "description": "a standard way that information is encoded for storage",
      "sample": ".txt/.csv/......",
      "creationDate": "2019-07-05T19:00:55.502Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* ReadingType

  ```
  {
      "id": "test/f3c1e433d2470f9f8c17",
      "name": "reading type",
      "description": "the type of variable values",
      "sample": "int/char/float/long/......",
      "creationDate": "2019-07-05T18:58:59.253Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* ReadingValue

  ```
  {
      "id": "test/0aa33247aa732421d057",
      "name": "reading value",
      "description": "the reading value of the sensor",
      "sample": "28.5, 29.6, 27.5, ......",
      "creationDate": "2019-07-04T20:38:10.295Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String",
              "details": "contains a list of reading value"
          }
      ]
  }
  ```

* Size

  ```
  {
      "id": "test/89368e1d68015693ab48",
      "name": "size",
      "description": "the amount of space of an object",
      "sample": "12 BYTES/KB/MB/GB",
      "creationDate": "2019-07-05T18:55:34.084Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

* ReadingStructure

  ```
  {
      "id": "test/04bcac2f1cc9532906c8",
      "name": "reading structure ",
      "description": "a format of storing readings in the file or repo",
      "sample": "array/list/tree/.....",
      "creationDate": "2019-07-05T19:12:18.242Z",
      "representationsAndSemantics": [
          {
              "expression": "Format",
              "value": "String"
          }
      ]
  }
  ```

If you make different IDs for these types in Cordra (object service), please modify the file `Type.java` under `src/main/java/indiana/edu/dtr` 